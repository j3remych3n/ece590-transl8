webpackJsonp([1],{0:function(t,e){},1:function(t,e){},"5B6g":function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i=n("mvHQ"),r=n.n(i),o=n("fZjL"),l=n.n(o),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",[e("v-spacer"),this._v(" "),e("v-card",{staticClass:"text-card-sent",class:{sent:"left-convo"==this.side,sent2:"right-convo"==this.side},staticStyle:{"border-radius":"20px 0px 0px 20px"},attrs:{dark:"",color:this.blockColor}},[e("v-card-text",{attrs:{color:this.textColor}},[this._v(this._s(this.text))])],1)],1)},staticRenderFns:[]};var c=n("VU/8")({name:"sent-message",props:["text","side"],data:function(){return{blockColor:"blurple darken-1",textColor:"hwhite"}},methods:{initColors:function(){"left-convo"==this.side&&(this.blockColor="blurple")},getStyle:function(){return"text-card-sent"}},beforeMount:function(){this.initColors()}},s,!1,function(t){n("5B6g")},null,null).exports,d=new a.default,v={name:"received-message",props:["text","side"],data:function(){return{obfuscatable:!0,blockColor:"hwhite",textColor:"blurple darken-1",showConfusion:!1}},methods:{injectConfusion:function(){this.showConfusion=!1,d.$emit("confusion",this.side,this.text)},expire:function(){this.obfuscatable=!1},initColors:function(){"left-convo"==this.side&&(this.blockColor="hwhite darken-1")}},beforeMount:function(){this.initColors()}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:""}},[n("v-card",{staticClass:"text-card-received",staticStyle:{"margin-left":"-25px","margin-top":"20px","border-radius":"0px 20px 20px 0px","min-height":"50px","margin-bottom":"20px"},attrs:{color:t.blockColor}},[n("v-card-text",{attrs:{color:t.textColor}},[t._v(t._s(this.text))]),t._v(" "),"left-convo"==t.side?n("v-btn",{staticClass:"help-btn",attrs:{small:"",absolute:"",dark:"",fab:"",top:"",right:"",color:"blurple"},nativeOn:{click:function(e){e.stopPropagation(),t.showConfusion=!0}}},[t._v("?\r\n        ")]):t._e(),t._v(" "),"right-convo"==t.side?n("v-btn",{staticClass:"help-btn",attrs:{small:"",absolute:"",dark:"",fab:"",top:"",right:"",color:"blurple darken-1"},nativeOn:{click:function(e){e.stopPropagation(),t.showConfusion=!0}}},[t._v("?\r\n        ")]):t._e()],1),t._v(" "),n("v-dialog",{attrs:{width:"300px",height:"150px","hide-overlay":"",flat:""},model:{value:t.showConfusion,callback:function(e){t.showConfusion=e},expression:"showConfusion"}},[n("v-card",{attrs:{dark:"",color:"blurple"}},[n("v-card-title",{staticClass:"headline"},[t._v("Confusing translation?")]),t._v(" "),n("v-card-actions",[n("v-layout",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{light:"",small:"",fab:"",color:"blurple darken-1"},on:{click:function(e){t.injectConfusion()}}},[n("v-icon",{attrs:{color:"hwhite"}},[t._v("\r\n                              check\r\n                            ")])],1),t._v(" "),n("v-btn",{attrs:{small:"",light:"",fab:"",color:"hwhite"},on:{click:function(e){t.showConfusion=!1}}},[n("v-icon",{attrs:{color:"blurple"}},[t._v("\r\n                              close\r\n                            ")])],1)],1)],1)],1)],1),t._v(" "),n("v-spacer")],1)},staticRenderFns:[]};var u=n("VU/8")(v,h,!1,function(t){n("k9JJ")},null,null).exports,f=n("fBpl"),m="api.cognitive.microsofttranslator.com",g={name:"App",data:function(){return{keys:{translate:"",speech:""},recognition:{},righRecognition:{},leftRecordColor:"hwhite",rightRecordColor:"blurple",showConfusion:!1,leftText:"",rightText:"",leftRecord:!1,rightRecord:!1,nameLeft:"",nameRight:"",langLeft:{},langRight:{},langMap:{af:{name:"Afrikaans",nativeName:"Afrikaans",dir:"ltr"},ar:{name:"Arabic",nativeName:"العربية",dir:"rtl"},bg:{name:"Bulgarian",nativeName:"Български",dir:"ltr"},bn:{name:"Bangla",nativeName:"বাংলা",dir:"ltr"},bs:{name:"Bosnian",nativeName:"bosanski (latinica)",dir:"ltr"},ca:{name:"Catalan",nativeName:"Català",dir:"ltr"},cs:{name:"Czech",nativeName:"Čeština",dir:"ltr"},cy:{name:"Welsh",nativeName:"Welsh",dir:"ltr"},da:{name:"Danish",nativeName:"Dansk",dir:"ltr"},de:{name:"German",nativeName:"Deutsch",dir:"ltr"},el:{name:"Greek",nativeName:"Ελληνικά",dir:"ltr"},en:{name:"English",nativeName:"English",dir:"ltr"},es:{name:"Spanish",nativeName:"Español",dir:"ltr"},et:{name:"Estonian",nativeName:"Eesti",dir:"ltr"},fa:{name:"Persian",nativeName:"Persian",dir:"rtl"},fi:{name:"Finnish",nativeName:"Suomi",dir:"ltr"},fil:{name:"Filipino",nativeName:"Filipino",dir:"ltr"},fj:{name:"Fijian",nativeName:"Fijian",dir:"ltr"},fr:{name:"French",nativeName:"Français",dir:"ltr"},he:{name:"Hebrew",nativeName:"עברית",dir:"rtl"},hi:{name:"Hindi",nativeName:"हिंदी",dir:"ltr"},hr:{name:"Croatian",nativeName:"Hrvatski",dir:"ltr"},ht:{name:"Haitian Creole",nativeName:"Haitian Creole",dir:"ltr"},hu:{name:"Hungarian",nativeName:"Magyar",dir:"ltr"},id:{name:"Indonesian",nativeName:"Indonesia",dir:"ltr"},is:{name:"Icelandic",nativeName:"Íslenska",dir:"ltr"},it:{name:"Italian",nativeName:"Italiano",dir:"ltr"},ja:{name:"Japanese",nativeName:"日本語",dir:"ltr"},ko:{name:"Korean",nativeName:"한국어",dir:"ltr"},lt:{name:"Lithuanian",nativeName:"Lietuvių",dir:"ltr"},lv:{name:"Latvian",nativeName:"Latviešu",dir:"ltr"},mg:{name:"Malagasy",nativeName:"Malagasy",dir:"ltr"},ms:{name:"Malay",nativeName:"Melayu",dir:"ltr"},mt:{name:"Maltese",nativeName:"Il-Malti",dir:"ltr"},mww:{name:"Hmong Daw",nativeName:"Hmong Daw",dir:"ltr"},nb:{name:"Norwegian",nativeName:"Norsk",dir:"ltr"},nl:{name:"Dutch",nativeName:"Nederlands",dir:"ltr"},otq:{name:"Querétaro Otomi",nativeName:"Querétaro Otomi",dir:"ltr"},pl:{name:"Polish",nativeName:"Polski",dir:"ltr"},pt:{name:"Portuguese",nativeName:"Português",dir:"ltr"},ro:{name:"Romanian",nativeName:"Română",dir:"ltr"},ru:{name:"Russian",nativeName:"Русский",dir:"ltr"},sk:{name:"Slovak",nativeName:"Slovenčina",dir:"ltr"},sl:{name:"Slovenian",nativeName:"Slovenščina",dir:"ltr"},sm:{name:"Samoan",nativeName:"Samoan",dir:"ltr"},"sr-Cyrl":{name:"Serbian (Cyrillic)",nativeName:"srpski (ćirilica)",dir:"ltr"},"sr-Latn":{name:"Serbian (Latin)",nativeName:"srpski (latinica)",dir:"ltr"},sv:{name:"Swedish",nativeName:"Svenska",dir:"ltr"},sw:{name:"Kiswahili",nativeName:"Kiswahili",dir:"ltr"},ta:{name:"Tamil",nativeName:"தமிழ்",dir:"ltr"},te:{name:"Telugu",nativeName:"తెలుగు",dir:"ltr"},th:{name:"Thai",nativeName:"ไทย",dir:"ltr"},tlh:{name:"Klingon",nativeName:"Klingon",dir:"ltr"},to:{name:"Tongan",nativeName:"lea fakatonga",dir:"ltr"},tr:{name:"Turkish",nativeName:"Türkçe",dir:"ltr"},ty:{name:"Tahitian",nativeName:"Tahitian",dir:"ltr"},uk:{name:"Ukrainian",nativeName:"Українська",dir:"ltr"},ur:{name:"Urdu",nativeName:"اردو",dir:"rtl"},vi:{name:"Vietnamese",nativeName:"Tiếng Việt",dir:"ltr"},yua:{name:"Yucatec Maya",nativeName:"Yucatec Maya",dir:"ltr"},yue:{name:"Cantonese (Traditional)",nativeName:"粵語 (繁體中文)",dir:"ltr"},"zh-Hans":{name:"Chinese Simplified",nativeName:"简体中文",dir:"ltr"},"zh-Hant":{name:"Chinese Traditional",nativeName:"繁體中文",dir:"ltr"}}}},components:{SentMessage:c,ReceivedMessage:u},created:function(){var t=this,e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,console.log(this.recognition+"is here"),this.recognition.onsoundstart=function(t){console.log("detected sound left")},this.rightRecognition=new e,console.log(this.rightRecognition+"is here"),this.rightRecognition.onsoundstart=function(t){console.log("detected sound right")},d.$on("confusion",function(e,n){var a='"'+n+'" translated poorly, could you please rephrase?';"left-convo"===e?(t.sentFactory(a,e),t.receivedFactory(a,"right-convo")):(t.sentFactory(a,e),t.receivedFactory(a,"left-convo"))})},methods:{getLangFromName:function(t){var e=this;return l()(this.langMap).filter(function(n){return e.langMap[n].nativeName==t})[0]},updateLeftLang:function(){this.langLeft=this.getLangFromName(this.nameLeft),console.log(this.langLeft)},updateRightLang:function(){this.langRight=this.getLangFromName(this.nameRight),console.log(this.langRight)},transHandler:function(t,e){return function(n){var a="";n.on("data",function(t){a+=t}),n.on("end",function(){r()(JSON.parse(a),null,4);var n=JSON.parse(a)[0].translations[0].text;t(n,e)}),n.on("error",function(n){console.log("Error: "+n.message),t("ERR: Bad translation input",e)})}},get_guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},translate:function(t,e,n,a,i){var o=r()([{Text:t}]),l={method:"POST",hostname:m,path:"/translate?api-version=3.0"+("&to="+n),headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":"a4d0c7a5720842ed83e77cb74c6ef0e9","X-ClientTraceId":this.get_guid()}},s=f.request(l,this.transHandler(a,i));s.write(o),s.end()},getLangHandler:function(t){var e="";t.on("data",function(t){e+=t}),t.on("end",function(){this.langMap=JSON.parse(e).translation,console.log(r()(this.langMap))}),t.on("error",function(t){console.log("Error: "+t.message)})},langList:function(){var t=this;return l()(this.langMap).map(function(e){return t.langMap[e].nativeName})},getLanguages:function(){var t={method:"GET",hostname:m,path:"/languages?api-version=3.0",headers:{"Ocp-Apim-Subscription-Key":"a4d0c7a5720842ed83e77cb74c6ef0e9"}};f.request(t,this.getLangHandler).end()},openQualtrics:function(){window.open("https://duke.qualtrics.com/jfe/form/SV_dbt3kA7eeqnrZg9","_blank")},resetConvo:function(){window.location.href="https://transl8-jeremy-chen.herokuapp.com"},convoEnabled:function(){return l()(this.langLeft).length>0&&l()(this.langRight).length>0},startLeftRecord:function(){this.leftRecord=!0,this.leftRecordColor="blurple";var t=this;this.recognition.onresult=function(e){console.log("received some result");var n=e.resultIndex,a=e.results[n][0].transcript;void 0==t.leftText&&(t.leftText=""),t.leftText=a,console.log(t.leftText),t.$forceUpdate(),t.stopLeftRecord()},this.recognition.lang=this.langLeft,this.recognition.start()},stopLeftRecord:function(){this.leftRecord=!1,this.leftRecordColor="hwhite",this.recognition.stop(),console.log("end result: "+this.leftText)},startRightRecord:function(){this.rightRecord=!0,this.rightRecordColor="hwhite";var t=this;this.rightRecognition.onresult=function(e){console.log("received some result");var n=e.resultIndex,a=e.results[n][0].transcript;void 0==t.rightText&&(t.rightText=""),t.rightText=a,console.log(t.rightText),t.$forceUpdate(),t.stopRightRecord()},this.rightRecognition.lang=this.langRight,this.rightRecognition.start()},stopRightRecord:function(){this.rightRecord=!1,this.rightRecordColor="blurple",this.rightRecognition.stop(),console.log("end result: "+this.rightText)},sendRight:function(){console.log(this.rightText),this.sentFactory(this.rightText,"right-convo"),this.receivedFactory(this.rightText,"left-convo");var t=document.getElementsByTagName("html")[0];console.log(t),t.scrollTop=t.scrollHeight,this.rightText=""},sendLeft:function(){console.log(this.leftText),this.sentFactory(this.leftText,"left-convo"),this.receivedFactory(this.leftText,"right-convo");var t=document.getElementsByTagName("html")[0];console.log(t),t.scrollTop=t.scrollHeight,this.leftText=""},sentFactory:function(t,e){if(!t.match("^\\s+$")){var n=new(a.default.extend(c))({propsData:{text:t,side:e}});n.$mount(),this.$refs[e].appendChild(n.$el),this.$forceUpdate()}},receivedFactory:function(t,e){t.match("^\\s+$")||("left-convo"==e?this.translate(t,this.langRight,this.langLeft,this.receivedFactory2,e):this.translate(t,this.langLeft,this.langRight,this.receivedFactory2,e))},receivedFactory2:function(t,e){var n=new(a.default.extend(u))({propsData:{text:t,side:e}});n.$mount(),this.$refs[e].appendChild(n.$el),this.$forceUpdate()}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"t8-app"}},[n("v-container",{attrs:{fluid:"",id:"t8-container"}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs6:""}},[n("v-toolbar",{staticClass:"top-toolbar",attrs:{prominent:"",color:"hwhite",flat:""}},[n("v-layout",[n("v-flex",{attrs:{xs2:""}},[n("v-img",{attrs:{id:"logo",src:"./static/logo.png",contain:""}})],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-select",{attrs:{items:t.langList(),"background-color":"blurple",dark:"",label:"Select a language","prepend-inner-icon":"translate",solo:"",color:"hwhite"},on:{change:function(e){t.updateLeftLang()}},model:{value:t.nameLeft,callback:function(e){t.nameLeft=e},expression:"nameLeft"}})],1)],1)],1)],1),t._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-toolbar",{staticClass:"top-toolbar",attrs:{prominent:"",color:"blurple",flat:""}},[n("v-layout",[n("v-flex",{attrs:{xs6:""}},[n("v-select",{attrs:{items:t.langList(),color:"blurple","prepend-inner-icon":"translate",solo:"",reverse:"",label:"Select a language"},on:{change:function(e){t.updateRightLang()}},model:{value:t.nameRight,callback:function(e){t.nameRight=e},expression:"nameRight"}})],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-flex",{attrs:{xs1:""}}),t._v(" "),n("v-flex",{attrs:{xs2:""}},[t.convoEnabled()?n("v-card",{attrs:{color:"hwhite",id:"exit"}},[n("v-layout",{attrs:{row:""}},[n("v-spacer"),t._v(" "),n("v-flex",{attrs:{xs2:""}},[n("v-btn",{attrs:{large:"",absolute:"",icon:""},on:{click:function(e){t.openQualtrics()}}},[n("v-icon",{attrs:{color:"blurple"}},[t._v("rate_review")])],1)],1),t._v(" "),n("v-flex",{attrs:{xs5:""}},[n("v-btn",{attrs:{large:"",absolute:"",icon:""},on:{click:function(e){t.resetConvo()}}},[n("v-icon",{attrs:{color:"blurple"}},[t._v("close")])],1)],1),t._v(" "),n("v-flex",{attrs:{xs3:""}})],1)],1):t._e()],1)],1)],1)],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs6:""}},[n("v-card",{class:{convo:t.convoEnabled(),fscrn:!t.convoEnabled()},attrs:{tile:"",flat:"",color:"hwhite"}},[n("v-container",{ref:"left-convo",staticClass:"convo-container"})],1)],1),t._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-card",{class:{convo:t.convoEnabled(),fscrn:!t.convoEnabled()},attrs:{tile:"",flat:"",color:"blurple"}},[n("v-container",{ref:"right-convo",staticClass:"convo-container right-convo"})],1)],1)],1)],1),t._v(" "),n("v-footer",{attrs:{color:"blurple",app:"",height:"auto"}},[n("v-container",{attrs:{id:"footer-container"}},[n("v-layout",{attrs:{row:"","align-center":"","justify-center":"","fill-height":""}},[n("v-flex",{attrs:{xs6:""}},[n("v-card",{staticClass:"input-card",attrs:{tile:"",flat:"",color:t.leftRecordColor}},[n("v-layout",{attrs:{row:"",id:"left-bar"}},[n("v-flex",{attrs:{xs1:""}},[!t.leftRecord&&t.convoEnabled()?n("v-btn",{staticClass:"record-btn",attrs:{small:"",dark:"",color:"blurple",fab:""},on:{click:function(e){t.startLeftRecord()}}},[n("v-icon",[t._v("keyboard_voice")])],1):t._e(),t._v(" "),t.leftRecord&&t.convoEnabled()?n("v-btn",{staticClass:"record-btn",attrs:{small:"",dark:"",color:"red",fab:""},on:{click:function(e){t.stopLeftRecord()}}},[n("v-icon",{attrs:{color:"hwhite"}},[t._v("stop")])],1):t._e()],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-flex",{attrs:{xs11:""}},[t.convoEnabled()?n("v-text-field",{attrs:{"append-icon":"send",color:"blurple",label:"Send a message",flat:"",light:"",solo:"","background-color":"hwhite darken-1"},on:{"click:append":function(e){t.sendLeft()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.sendLeft()}},model:{value:t.leftText,callback:function(e){t.leftText=e},expression:"leftText"}}):t._e()],1),t._v(" "),n("v-spacer")],1)],1)],1),t._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-card",{staticClass:"input-card",attrs:{tile:"",flat:"",color:t.rightRecordColor}},[n("v-layout",{attrs:{reverse:"",row:"",id:"right-bar"}},[n("v-flex",{attrs:{xs1:""}},[!t.rightRecord&&t.convoEnabled()?n("v-btn",{staticClass:"record-btn",attrs:{small:"",light:"",color:"hwhite",fab:""},on:{click:function(e){t.startRightRecord()}}},[n("v-icon",{attrs:{color:"blurple"}},[t._v("keyboard_voice")])],1):t._e(),t._v(" "),t.rightRecord&&t.convoEnabled()?n("v-btn",{staticClass:"record-btn",attrs:{small:"",dark:"",color:"red",fab:""},on:{click:function(e){t.stopRightRecord()}}},[n("v-icon",{attrs:{color:"hwhite"}},[t._v("stop")])],1):t._e()],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-flex",{attrs:{id:"text-input",xs11:""}},[t.convoEnabled()?n("v-text-field",{attrs:{reverse:"","append-icon":"send",color:"hwhite darken-1",label:"Send a message",flat:"",solo:"",dark:"","background-color":"blurple darken-1"},on:{"click:append":function(e){t.sendRight()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.sendRight()}},model:{value:t.rightText,callback:function(e){t.rightText=e},expression:"rightText"}}):t._e()],1),t._v(" "),n("v-spacer")],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var x=n("VU/8")(g,p,!1,function(t){n("Zas0")},null,null).exports,b=n("3EgV"),k=n.n(b);n("7zck");a.default.use(k.a,{theme:{blurple:{base:"#4F4FE9",darken1:"#3838BD",lighten1:"#6D6DFB"},hwhite:{base:"#FFFFFF",darken1:"#EBEBEB"}}}),a.default.config.productionTip=!1,new a.default({el:"#app",components:{App:x},template:"<App/>"})},Zas0:function(t,e){},k9JJ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7efd0429c0f88c4109f0.js.map