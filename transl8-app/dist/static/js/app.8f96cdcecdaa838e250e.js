webpackJsonp([1],{0:function(t,e){},1:function(t,e){},"1l7j":function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),r=a("mvHQ"),i=a.n(r),o=a("fZjL"),l=a.n(o),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",[e("v-spacer"),this._v(" "),e("v-card",{staticClass:"text-card-sent",attrs:{dark:"",color:this.blockColor}},[e("v-card-text",{attrs:{color:this.textColor}},[this._v(this._s(this.text))])],1)],1)},staticRenderFns:[]};var c=a("VU/8")({name:"sent-message",props:["text","side"],data:function(){return{blockColor:"blurple darken-1",textColor:"hwhite"}},methods:{initColors:function(){"left-convo"==this.side&&(this.blockColor="blurple")}},beforeMount:function(){this.initColors()}},s,!1,function(t){a("1l7j")},null,null).exports,d=new n.default,v={name:"received-message",props:["text","side"],data:function(){return{obfuscatable:!0,blockColor:"hwhite",textColor:"blurple darken-1",showConfusion:!1}},methods:{injectConfusion:function(){this.showConfusion=!1,d.$emit("confusion",this.side,this.text)},expire:function(){this.obfuscatable=!1},initColors:function(){"left-convo"==this.side&&(this.blockColor="hwhite darken-1")}},beforeMount:function(){this.initColors()}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-card",{staticClass:"text-card-received",attrs:{color:t.blockColor}},[a("v-card-text",{attrs:{color:t.textColor}},[t._v(t._s(this.text))]),t._v(" "),a("v-btn",{staticClass:"help-btn",attrs:{small:"",absolute:"",dark:"",fab:"",top:"",right:"",color:"blurple"},nativeOn:{click:function(e){e.stopPropagation(),t.showConfusion=!0}}},[t._v("?\r\n        ")])],1),t._v(" "),a("v-dialog",{attrs:{width:"300px",height:"150px","hide-overlay":"",flat:""},model:{value:t.showConfusion,callback:function(e){t.showConfusion=e},expression:"showConfusion"}},[a("v-card",{attrs:{dark:"",color:"blurple"}},[a("v-card-title",{staticClass:"headline"},[t._v("Confusing translation?")]),t._v(" "),a("v-card-actions",[a("v-layout",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{light:"",small:"",fab:"",color:"blurple darken-1"},on:{click:function(e){t.injectConfusion()}}},[a("v-icon",{attrs:{color:"hwhite"}},[t._v("\r\n                              check\r\n                            ")])],1),t._v(" "),a("v-btn",{attrs:{small:"",light:"",fab:"",color:"hwhite"},on:{click:function(e){t.showConfusion=!1}}},[a("v-icon",{attrs:{color:"blurple"}},[t._v("\r\n                              close\r\n                            ")])],1)],1)],1)],1)],1),t._v(" "),a("v-spacer")],1)},staticRenderFns:[]};var u=a("VU/8")(v,h,!1,function(t){a("hSes")},null,null).exports,f=a("fBpl"),m="api.cognitive.microsofttranslator.com",g={name:"App",data:function(){return{keys:{translate:"",speech:""},recognition:{},leftRecordColor:"hwhite",rightRecordColor:"blurple",showConfusion:!1,leftText:"",rightText:"",leftRecord:!1,rightRecord:!1,nameLeft:"",nameRight:"",langLeft:{},langRight:{},langMap:{af:{name:"Afrikaans",nativeName:"Afrikaans",dir:"ltr"},ar:{name:"Arabic",nativeName:"العربية",dir:"rtl"},bg:{name:"Bulgarian",nativeName:"Български",dir:"ltr"},bn:{name:"Bangla",nativeName:"বাংলা",dir:"ltr"},bs:{name:"Bosnian",nativeName:"bosanski (latinica)",dir:"ltr"},ca:{name:"Catalan",nativeName:"Català",dir:"ltr"},cs:{name:"Czech",nativeName:"Čeština",dir:"ltr"},cy:{name:"Welsh",nativeName:"Welsh",dir:"ltr"},da:{name:"Danish",nativeName:"Dansk",dir:"ltr"},de:{name:"German",nativeName:"Deutsch",dir:"ltr"},el:{name:"Greek",nativeName:"Ελληνικά",dir:"ltr"},en:{name:"English",nativeName:"English",dir:"ltr"},es:{name:"Spanish",nativeName:"Español",dir:"ltr"},et:{name:"Estonian",nativeName:"Eesti",dir:"ltr"},fa:{name:"Persian",nativeName:"Persian",dir:"rtl"},fi:{name:"Finnish",nativeName:"Suomi",dir:"ltr"},fil:{name:"Filipino",nativeName:"Filipino",dir:"ltr"},fj:{name:"Fijian",nativeName:"Fijian",dir:"ltr"},fr:{name:"French",nativeName:"Français",dir:"ltr"},he:{name:"Hebrew",nativeName:"עברית",dir:"rtl"},hi:{name:"Hindi",nativeName:"हिंदी",dir:"ltr"},hr:{name:"Croatian",nativeName:"Hrvatski",dir:"ltr"},ht:{name:"Haitian Creole",nativeName:"Haitian Creole",dir:"ltr"},hu:{name:"Hungarian",nativeName:"Magyar",dir:"ltr"},id:{name:"Indonesian",nativeName:"Indonesia",dir:"ltr"},is:{name:"Icelandic",nativeName:"Íslenska",dir:"ltr"},it:{name:"Italian",nativeName:"Italiano",dir:"ltr"},ja:{name:"Japanese",nativeName:"日本語",dir:"ltr"},ko:{name:"Korean",nativeName:"한국어",dir:"ltr"},lt:{name:"Lithuanian",nativeName:"Lietuvių",dir:"ltr"},lv:{name:"Latvian",nativeName:"Latviešu",dir:"ltr"},mg:{name:"Malagasy",nativeName:"Malagasy",dir:"ltr"},ms:{name:"Malay",nativeName:"Melayu",dir:"ltr"},mt:{name:"Maltese",nativeName:"Il-Malti",dir:"ltr"},mww:{name:"Hmong Daw",nativeName:"Hmong Daw",dir:"ltr"},nb:{name:"Norwegian",nativeName:"Norsk",dir:"ltr"},nl:{name:"Dutch",nativeName:"Nederlands",dir:"ltr"},otq:{name:"Querétaro Otomi",nativeName:"Querétaro Otomi",dir:"ltr"},pl:{name:"Polish",nativeName:"Polski",dir:"ltr"},pt:{name:"Portuguese",nativeName:"Português",dir:"ltr"},ro:{name:"Romanian",nativeName:"Română",dir:"ltr"},ru:{name:"Russian",nativeName:"Русский",dir:"ltr"},sk:{name:"Slovak",nativeName:"Slovenčina",dir:"ltr"},sl:{name:"Slovenian",nativeName:"Slovenščina",dir:"ltr"},sm:{name:"Samoan",nativeName:"Samoan",dir:"ltr"},"sr-Cyrl":{name:"Serbian (Cyrillic)",nativeName:"srpski (ćirilica)",dir:"ltr"},"sr-Latn":{name:"Serbian (Latin)",nativeName:"srpski (latinica)",dir:"ltr"},sv:{name:"Swedish",nativeName:"Svenska",dir:"ltr"},sw:{name:"Kiswahili",nativeName:"Kiswahili",dir:"ltr"},ta:{name:"Tamil",nativeName:"தமிழ்",dir:"ltr"},te:{name:"Telugu",nativeName:"తెలుగు",dir:"ltr"},th:{name:"Thai",nativeName:"ไทย",dir:"ltr"},tlh:{name:"Klingon",nativeName:"Klingon",dir:"ltr"},to:{name:"Tongan",nativeName:"lea fakatonga",dir:"ltr"},tr:{name:"Turkish",nativeName:"Türkçe",dir:"ltr"},ty:{name:"Tahitian",nativeName:"Tahitian",dir:"ltr"},uk:{name:"Ukrainian",nativeName:"Українська",dir:"ltr"},ur:{name:"Urdu",nativeName:"اردو",dir:"rtl"},vi:{name:"Vietnamese",nativeName:"Tiếng Việt",dir:"ltr"},yua:{name:"Yucatec Maya",nativeName:"Yucatec Maya",dir:"ltr"},yue:{name:"Cantonese (Traditional)",nativeName:"粵語 (繁體中文)",dir:"ltr"},"zh-Hans":{name:"Chinese Simplified",nativeName:"简体中文",dir:"ltr"},"zh-Hant":{name:"Chinese Traditional",nativeName:"繁體中文",dir:"ltr"}}}},components:{SentMessage:c,ReceivedMessage:u},created:function(){var t=this,e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,console.log(this.recognition+"is here"),this.recognition.onsoundstart=function(t){console.log("detected sound")},this.recognition.onresult=function(t){console.log("received some result");var e=t.resultIndex,a=t.results[e][0].transcript;console.log(a),this.leftText+=a},d.$on("confusion",function(e,a){var n='"'+a+'" translated poorly, could you please rephrase?';"left-convo"===e?(t.sentFactory(n,e),t.receivedFactory(n,"right-convo")):(t.sentFactory(n,e),t.receivedFactory(n,"left-convo"))})},methods:{getLangFromName:function(t){var e=this;return l()(this.langMap).filter(function(a){return e.langMap[a].nativeName==t})[0]},updateLeftLang:function(){this.langLeft=this.getLangFromName(this.nameLeft),console.log(this.langLeft)},updateRightLang:function(){this.langRight=this.getLangFromName(this.nameRight),console.log(this.langRight)},transHandler:function(t,e){return function(a){var n="";a.on("data",function(t){n+=t}),a.on("end",function(){i()(JSON.parse(n),null,4);var a=JSON.parse(n)[0].translations[0].text;t(a,e)}),a.on("error",function(a){console.log("Error: "+a.message),t("ERR: Bad translation input",e)})}},get_guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},translate:function(t,e,a,n,r){var o=i()([{Text:t}]),l={method:"POST",hostname:m,path:"/translate?api-version=3.0"+("&to="+a),headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":"a4d0c7a5720842ed83e77cb74c6ef0e9","X-ClientTraceId":this.get_guid()}},s=f.request(l,this.transHandler(n,r));s.write(o),s.end()},getLangHandler:function(t){var e="";t.on("data",function(t){e+=t}),t.on("end",function(){this.langMap=JSON.parse(e).translation,console.log(i()(this.langMap))}),t.on("error",function(t){console.log("Error: "+t.message)})},langList:function(){var t=this;return l()(this.langMap).map(function(e){return t.langMap[e].nativeName})},getLanguages:function(){var t={method:"GET",hostname:m,path:"/languages?api-version=3.0",headers:{"Ocp-Apim-Subscription-Key":"a4d0c7a5720842ed83e77cb74c6ef0e9"}};f.request(t,this.getLangHandler).end()},openQualtrics:function(){window.open("https://duke.qualtrics.com/jfe/form/SV_dbt3kA7eeqnrZg9","_blank")},resetConvo:function(){window.location.href="https://transl8-jeremy-chen.herokuapp.com"},convoEnabled:function(){return l()(this.langLeft).length>0&&l()(this.langRight).length>0},startLeftRecord:function(){this.leftRecord=!0,this.leftRecordColor="blurple",this.recognition.start()},stopLeftRecord:function(){this.leftRecord=!1,this.leftRecordColor="hwhite"},startRightRecord:function(){this.rightRecord=!0,this.rightRecordColor="hwhite"},stopRightRecord:function(){this.rightRecord=!1,this.rightRecordColor="blurple"},sendRight:function(){console.log(this.rightText),this.sentFactory(this.rightText,"right-convo"),this.receivedFactory(this.rightText,"left-convo"),this.rightText=""},sendLeft:function(){console.log(this.leftText),this.sentFactory(this.leftText,"left-convo"),this.receivedFactory(this.leftText,"right-convo"),this.leftText=""},sentFactory:function(t,e){if(!t.match("^\\s+$")){var a=new(n.default.extend(c))({propsData:{text:t,side:e}});a.$mount(),this.$refs[e].appendChild(a.$el),this.$forceUpdate()}},receivedFactory:function(t,e){t.match("^\\s+$")||("left-convo"==e?this.translate(t,this.langRight,this.langLeft,this.receivedFactory2,e):this.translate(t,this.langLeft,this.langRight,this.receivedFactory2,e))},receivedFactory2:function(t,e){var a=new(n.default.extend(u))({propsData:{text:t,side:e}});a.$mount(),this.$refs[e].appendChild(a.$el),this.$forceUpdate()}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"t8-app"}},[a("v-container",{attrs:{fluid:"",id:"t8-container"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-toolbar",{staticClass:"top-toolbar",attrs:{prominent:"",color:"hwhite",flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs2:""}},[a("v-img",{attrs:{id:"logo",src:"./static/logo.png",contain:""}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-select",{attrs:{items:t.langList(),"background-color":"blurple",dark:"",label:"Select a language","prepend-inner-icon":"translate",solo:"",color:"hwhite"},on:{change:function(e){t.updateLeftLang()}},model:{value:t.nameLeft,callback:function(e){t.nameLeft=e},expression:"nameLeft"}})],1)],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-toolbar",{staticClass:"top-toolbar",attrs:{prominent:"",color:"blurple",flat:""}},[a("v-layout",[a("v-flex",{attrs:{xs6:""}},[a("v-select",{attrs:{items:t.langList(),color:"blurple","prepend-inner-icon":"translate",solo:"",reverse:"",label:"Select a language"},on:{change:function(e){t.updateRightLang()}},model:{value:t.nameRight,callback:function(e){t.nameRight=e},expression:"nameRight"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs2:""}},[t.convoEnabled()?a("v-card",{attrs:{color:"hwhite",id:"exit"}},[a("v-layout",{attrs:{row:""}},[a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-btn",{attrs:{large:"",absolute:"",icon:""},on:{click:function(e){t.openQualtrics()}}},[a("v-icon",{attrs:{color:"blurple"}},[t._v("rate_review")])],1)],1),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-btn",{attrs:{large:"",absolute:"",icon:""},on:{click:function(e){t.resetConvo()}}},[a("v-icon",{attrs:{color:"blurple"}},[t._v("close")])],1)],1)],1)],1):t._e()],1)],1)],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card",{staticClass:"convo",attrs:{tile:"",flat:"",color:"hwhite"}},[a("v-container",{ref:"left-convo",staticClass:"convo-container"})],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-card",{staticClass:"convo",attrs:{tile:"",flat:"",color:"blurple"}},[a("v-container",{ref:"right-convo",staticClass:"convo-container right-convo"})],1)],1)],1)],1),t._v(" "),a("v-footer",{attrs:{color:"blurple",app:"",height:"auto"}},[a("v-container",{attrs:{id:"footer-container"}},[a("v-layout",{attrs:{row:"","align-center":"","justify-center":"","fill-height":""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card",{staticClass:"input-card",attrs:{tile:"",flat:"",color:t.leftRecordColor}},[a("v-layout",{attrs:{row:"",id:"left-bar"}},[a("v-flex",{attrs:{xs1:""}},[!t.leftRecord&&t.convoEnabled()?a("v-btn",{staticClass:"record-btn",attrs:{small:"",dark:"",color:"blurple",fab:""},on:{click:function(e){t.startLeftRecord()}}},[a("v-icon",[t._v("keyboard_voice")])],1):t._e(),t._v(" "),t.leftRecord&&t.convoEnabled()?a("v-btn",{staticClass:"record-btn",attrs:{small:"",dark:"",color:"red",fab:""},on:{click:function(e){t.stopLeftRecord()}}},[a("v-icon",{attrs:{color:"hwhite"}},[t._v("stop")])],1):t._e()],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs11:""}},[t.convoEnabled()?a("v-text-field",{attrs:{"append-icon":"send",color:"blurple",label:"Send a message",flat:"",light:"",solo:"","background-color":"hwhite darken-1"},on:{"click:append":function(e){t.sendLeft()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.sendLeft()}},model:{value:t.leftText,callback:function(e){t.leftText=e},expression:"leftText"}}):t._e()],1),t._v(" "),a("v-spacer")],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-card",{staticClass:"input-card",attrs:{tile:"",flat:"",color:t.rightRecordColor}},[a("v-layout",{attrs:{reverse:"",row:"",id:"right-bar"}},[a("v-flex",{attrs:{xs1:""}},[!t.rightRecord&&t.convoEnabled()?a("v-btn",{staticClass:"record-btn",attrs:{small:"",light:"",color:"hwhite",fab:""},on:{click:function(e){t.startRightRecord()}}},[a("v-icon",{attrs:{color:"blurple"}},[t._v("keyboard_voice")])],1):t._e(),t._v(" "),t.rightRecord&&t.convoEnabled()?a("v-btn",{staticClass:"record-btn",attrs:{small:"",dark:"",color:"red",fab:""},on:{click:function(e){t.stopRightRecord()}}},[a("v-icon",{attrs:{color:"hwhite"}},[t._v("stop")])],1):t._e()],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{id:"text-input",xs11:""}},[t.convoEnabled()?a("v-text-field",{attrs:{reverse:"","append-icon":"send",color:"hwhite darken-1",label:"Send a message",flat:"",solo:"",dark:"","background-color":"blurple darken-1"},on:{"click:append":function(e){t.sendRight()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.sendRight()}},model:{value:t.rightText,callback:function(e){t.rightText=e},expression:"rightText"}}):t._e()],1),t._v(" "),a("v-spacer")],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(g,p,!1,function(t){a("S74s")},null,null).exports,b=a("3EgV"),k=a.n(b);a("7zck");n.default.use(k.a,{theme:{blurple:{base:"#4F4FE9",darken1:"#3838BD",lighten1:"#6D6DFB"},hwhite:{base:"#FFFFFF",darken1:"#EBEBEB"}}}),n.default.config.productionTip=!1,new n.default({el:"#app",components:{App:x},template:"<App/>"})},S74s:function(t,e){},hSes:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8f96cdcecdaa838e250e.js.map